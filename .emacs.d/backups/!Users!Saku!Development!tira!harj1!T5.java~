
public class T5 {

	/**
	 * Rekursiivinen versio
	 */
	public static long bincoeff(int n, int k) 
	{
		if (k == n || k == 0) {
			return 1;
		}
		else if (k > n || n < 0 || k < 0) { // Virheelliset parametrit.
			return 0;
		}
		return bincoeff(n - 1, k - 1) + bincoeff(n - 1, k);
	}

	/**
	 * Iteratiivinen versio.
	 */
	public static long bincoeff2(int n, int k) 
	{
		if (k == n || k == 0) {
			return 1;
		}
		else if (k > n || n < 0 || k < 0) { // Virheelliset parametrit.
			return 0;
		}

		/*
		 * Lasketaan binomikerroin käytten Pascalin kolmiota.  Vastaus on
		 * kolmion n:n rivin k:s solu. (k ja n alkavat nollasta) Esim. 5C4 on
		 * viidennen rivin 1 5 10 10 5 1 neljäs solu, eli 5.  Rivi on
		 * symmetrinen, joten lasketaan korkeintaan puoliväliin asti.
		 */

		if (k > n / 2) {
			k = n - k; 
		}

		/*
		 * N:n rivin seuraava solu saadaan kertomalla edellisen solun arvo 
		 * funktiolla v(c) = (r - c) / c missä r = n+1 ja c = k.
		 */

		long cell = 1; // Rivin ensimmäinen (ja viimeinen) luku on aina 1.
		int r = n + 1;

		for (int c = 1; c <= k; c++) {
            cell *= (r - c) / c;
		}

		return cell;
	}

	public static void main(String[] args) 
{
		System.out.println(bincoeff2(104,50));
	}
}
